# US-V1-02.3 : Modal d'export avec filtres

| Métadonnée | Valeur |
|------------|--------|
| **ID** | US-V1-02.3 |
| **Epic** | E-V1-02 : Export |
| **Milestone** | V1.0 |
| **Priorité** | P1 |
| **PRD** | [prd-faatere-v1.md](../../prd-faatere-v1.md) |

---

## User Story

**En tant que** utilisateur,
**Je veux** configurer mon export,
**Afin d'** obtenir exactement les données voulues.

---

## Critères d'acceptance

- [ ] Modal avec options
- [ ] Sélection périmètre : tomité ou global
- [ ] Sélection format : CSV ou PDF
- [ ] Filtres : exclure sans email, exclure sans téléphone
- [ ] Aperçu du nombre d'adhérents
- [ ] Bouton télécharger

---

## Interface de la modal

```
┌──────────────────────────────────────────┐
│ Exporter les adhérents              [X] │
├──────────────────────────────────────────┤
│                                          │
│ Périmètre:                               │
│ ○ Mon tomité (Papeete)                   │
│ ○ Tous les tomités (Bureau)              │
│                                          │
│ Format:                                  │
│ ○ CSV (Excel, tableur)                   │
│ ○ PDF (impression)                       │
│                                          │
│ Filtres:                                 │
│ ☐ Exclure les adhérents sans email       │
│ ☐ Exclure les adhérents sans téléphone   │
│                                          │
│ Aperçu: 142 adhérents                    │
│                                          │
├──────────────────────────────────────────┤
│            [Annuler] [Télécharger]       │
└──────────────────────────────────────────┘
```

---

## Tâches techniques

### Backend

- [ ] Endpoint GET /members/export/count pour l'aperçu
- [ ] Même logique de filtrage que les exports

### Frontend

- [ ] Créer composant ExportModal
- [ ] Implémenter les options radio et checkbox
- [ ] Appeler l'API count à chaque changement de filtre
- [ ] Lancer le téléchargement

---

## Dépendances

- US-V1-02.1 : Export CSV
- US-V1-02.2 : Export PDF

---

## Notes

L'aperçu du nombre d'adhérents aide l'utilisateur à vérifier ses filtres avant l'export.
