# US-V11-02.3 : CrÃ©ation adhÃ©rent offline

| MÃ©tadonnÃ©e | Valeur |
|------------|--------|
| **ID** | US-V11-02.3 |
| **Epic** | E-V11-02 : Offline Mode |
| **Milestone** | V1.1 |
| **PrioritÃ©** | P0 |
| **PRD** | [prd-faatere-v1.md](../../prd-faatere-v1.md) |

---

## User Story

**En tant que** gestionnaire sans connexion,
**Je veux** crÃ©er un adhÃ©rent offline,
**Afin de** ne pas perdre l'inscription.

---

## CritÃ¨res d'acceptance

- [ ] Formulaire identique au mode online
- [ ] Sauvegarde locale avec flag "pending sync"
- [ ] GÃ©nÃ©ration numÃ©ro adhÃ©rent provisoire (local)
- [ ] Indicateur visuel "en attente de sync"

---

## NumÃ©ro adhÃ©rent provisoire

Format : `LOCAL-{UUID courte}`
Exemple : `LOCAL-a1b2c3`

Ce numÃ©ro sera remplacÃ© par le vrai numÃ©ro lors de la synchronisation.

---

## Affichage dans la liste

```
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§‘ â”‚ Moana TETUANUI       â”‚
â”‚ ğŸ”„ â”‚ LOCAL-a1b2c3    âœ…   â”‚ >  â† IcÃ´ne sync + numÃ©ro local
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## TÃ¢ches techniques

- [ ] Modifier le formulaire pour fonctionner offline
- [ ] Sauvegarder en base locale avec syncStatus='pending'
- [ ] GÃ©nÃ©rer numÃ©ro provisoire
- [ ] Sauvegarder la photo localement
- [ ] CrÃ©er entrÃ©e dans PendingMutation
- [ ] Afficher indicateur de sync dans la liste

---

## Validation offline

La validation de l'Ã¢ge fonctionne normalement (cÃ´tÃ© client).

La dÃ©tection des doublons :
- VÃ©rification locale uniquement en offline
- VÃ©rification serveur lors de la sync

---

## DÃ©pendances

- US-V11-02.1 : Stockage local
- US-V11-02.2 : DÃ©tection connectivitÃ©
- US-V11-01.4 : Ajout adhÃ©rent mobile

---

## Notes

L'expÃ©rience utilisateur doit Ãªtre identique en online et offline, seule la synchronisation est diffÃ©rÃ©e.
